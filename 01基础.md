<a id="mulu">目录</a>
<a href="#mulu" class="back">回到目录</a>
<style>
    .back{width:40px;height:40px;display:inline-block;line-height:20px;font-size:20px;background-color:lightyellow;position: fixed;bottom:50px;right:50px;z-index:999;border:2px solid pink;opacity:0.3;transition:all 0.3s;color:green;}
    .back:hover{color:red;opacity:1}
    img{vertical-align:bottom;}
</style>

<!-- @import "[TOC]" {cmd="toc" depthFrom=3 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [常用命令](#常用命令)
- [基本数据类型](#基本数据类型)
    - [数字](#数字)
    - [逻辑符号](#逻辑符号)
    - [字符串](#字符串)
    - [vector](#vector)
      - [创建](#创建)
      - [数据类型转换](#数据类型转换)
    - [matrix](#matrix)
      - [创建](#创建-1)
    - [array和list](#array和list)
    - [数据类型的探测](#数据类型的探测)

<!-- /code_chunk_output -->

<!-- 打开侧边预览：f1->Markdown Preview Enhanced: open...
只有打开侧边预览时保存才自动更新目录 -->

### 常用命令
使用`#`或`##`注释
`? 函数/对象等` 获得有关它们的帮助信息
### 基本数据类型
最基本的数据类型：数字和字符串
更高级的数据类型：vector向量和matrix矩阵
##### 数字
- 整数`287`
- 小数`99.99`
- 科学计数法
  - `1e-3` == `0.001` 即`1*10^-3^`
  - `1e2` == `100` 即`1*10^2^`
##### 逻辑符号
- 真：`TRUE`或`T`
- 假：`FALSE`或`F`

注意：它们不能小写
可转换成数字类型：T->1 F->0
```
1 + TRUE  # 2
2 * FALSE  # 0
```
##### 字符串
可以是任何字符的组合，由单引号或双引号包括
```
'a sentence' ## 单括号
"一个字符串" ## 双括号
```
##### vector
###### 创建
**只能包含单一数据类型**
使用`c(元素1,元素2,...)`创建
```
c(100, 20, 30) ## 整数 vector 
c("字符串", "数组","是我") ## 字符串 vector
c(TRUE, FALSE, TRUE, T, F) ## 逻辑 vector
```
还可以使用`a:b`创建包含[a,b]整数的vector
```
2:8  # 2 3 4 5 6 7 8
```
###### 数据类型转换
在定义数组时，如果输入的数值是混合的，那么某些基本数据类型会自动转换为其它类型，以保证数值类型的一致性
优先级为：
1. 逻辑类型 -> 数字类型
2. 逻辑类型 -> 字符串
3. 数字类型 -> 字符串

即`逻辑类型`->`数字`->`字符串`
##### matrix
可看做是一种带有限制的二维数组，矩阵内的数值也必须是同一种类型，类型强制转换规则同vector
###### 创建
`matrix(data, nrow=1, ncol=1, byrow=FALSE, dimnames=NULL)`
- data：用于创建矩阵的数据，必须有，可以是vector或矩阵
- nrow：指定行数，是一个整数
- ncol：指定列数，是一个整数
- byrow：是否按行将数据转化为矩阵
- dimnames：指定矩阵的行名和列名，是一个list

例：
```
matrix( c(20, 30.1, 2, 45.8, 23, 14), nrow = 2, byrow = T );  # 按行进行转化，就是先填满一行再填下一行
     [,1] [,2] [,3]
[1,] 20.0 30.1    2
[2,] 45.8 23.0   14
```
```
matrix( c(20, 30.1, 2, 45.8, 23, 14), nrow = 2, byrow = F );
     [,1] [,2] [,3]
[1,] 20.0  2.0   23
[2,] 30.1 45.8   14
```
```
matrix( c(20, 30.1, 2, 45.8, 23, 14), nrow = 2, 
       dimnames = list( c("row_A", "row_B"), c("A", "B", "C") ) );

         A    B  C
row_A 20.0  2.0 23
row_B 30.1 45.8 14
```
同时指定 ncol 和 nrow 时，生成的矩阵长度为nrow × ncol，此时可以不同于输入数据的长度。矩阵长度较小时，输入数据会被截短；而矩阵长度较大时，输入数据则会被重复使用。
```
## 生成一个2x5长度为10的矩阵，但输入数据的长度为20
matrix( 1:20, nrow = 2, ncol = 5, byrow = T); 
    [,1] [,2] [,3] [,4] [,5]
[1,]   1    2    3    4    5
[2,]   6    7    8    9   10
```
```
## 生成一个2x3长度为6的矩阵，但输入数据长度只有3
matrix( 1:3, nrow = 2, ncol = 3, byrow = T ); 
     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    1    2    3
```
当矩阵长度大于输入数据长度，且前者不是后者的整数倍时，会报warning
```
matrix( 1:3, nrow = 2, ncol = 4, byrow = T );
Warning: data length [3] is not a sub-multiple or multiple of the number of rows [2]
     [,1] [,2] [,3] [,4]
[1,]    1    2    3    1
[2,]    2    3    1    2
```
矩阵长度小于输入数据的长度，且后者不是前者的整数倍时，也会报warning、
```
matrix( letters[1:20], nrow = 3, ncol = 5, byrow = T );  # letters[1:20]就是前20个小写字母
Warning: data length [20] is not a sub-multiple or multiple of the number of rows [3]
     [,1] [,2] [,3] [,4] [,5]
[1,] "a"  "b"  "c"  "d"  "e" 
[2,] "f"  "g"  "h"  "i"  "j" 
[3,] "k"  "l"  "m"  "n"  "o" 
```
##### array和list
高维数组可以由函数`array()`定义
```
array( data = LETTERS[1:16], 
      dim  = c(2,4,2),  # 指定维数，这里共有3维，长度分别为2、4、2
      dimnames = list( c("A","B"), 
                      c("one","two","three","four"), 
                      c("一", "二") ));
```
```
, , 一

  one two three four
A "A" "C" "E"   "G" 
B "B" "D" "F"   "H" 

, , 二

  one two three four
A "I" "K" "M"   "O" 
B "J" "L" "N"   "P" 
```
---

##### 数据类型的探测
`length()` 显示数据对象中元素/成分的数量
`dim()` 获取数据对象的维度
`str()` 显示数据对象的结构
`mode()` 显示数据对象的类型，如：数值型、字符型、逻辑型等
`class()` 显示数据对象的类或类型，如：矩阵、列表、数据框等
`typeof()` 显示更细分的类
```
x = c(1,2,3);
length(x);  # 3
dim(x);  # NULL
str(x);  # num [1:3] 1 2 3
mode(x);  # "numeric"
class(x);  # "numeric"
typeof(x);  # "double"
```
```
x = matrix(c(1,2,3,4),nrow = 2);
length(x);  # 4
dim(x);  # 2 2 即每维的长度分别为2、2
str(x);  # num [1:2, 1:2] 1 2 3 4
mode(x);  # "numeric"
class(x);  # "matrix" "array"
typeof(x);  # "double"
```